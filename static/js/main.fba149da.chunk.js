(this.webpackJsonpminesweeper_react=this.webpackJsonpminesweeper_react||[]).push([[0],{12:function(e,a,t){e.exports=t.p+"static/media/click.e00e78bf.mp3"},13:function(e,a,t){e.exports=t.p+"static/media/mine.ad9b69c6.mp3"},14:function(e,a,t){e.exports=t.p+"static/media/show_zone.f142672b.mp3"},15:function(e,a,t){e.exports=t.p+"static/media/flag.d1603158.mp3"},16:function(e,a,t){e.exports=t.p+"static/media/modal_score.cd6ac11e.mp3"},17:function(e,a,t){e.exports=t.p+"static/media/mine_show.ce93d662.mp3"},18:function(e,a,t){e.exports=t(446)},23:function(e,a,t){},24:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){},441:function(e,a,t){},442:function(e,a,t){},443:function(e,a,t){},444:function(e,a,t){},445:function(e,a,t){},446:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),l=t(11),o=t.n(l),r=(t(23),t(24),t(8)),c=t(9),s=t(2),u=t(3),m=t(5),f=t(4),d=t(6),h=(t(25),[{name:"easy",id:1,className:"easy-board",mines:10,x:10,y:10},{name:"normal",id:2,className:"normal-board",mines:40,x:18,y:18},{name:"hard",id:3,className:"hard-board",mines:99,x:25,y:25}]),p=(t(26),function(e){var a=e.onDifficultChange,t=e.difficult;return i.a.createElement("div",null,i.a.createElement("select",{className:"difficult-select",value:t.id,onChange:function(e){return a(e)}},h.map((function(e,a){return i.a.createElement("option",{key:a,value:e.id},e.name)}))))}),v=t(7),k=(t(441),function(e){var a=e.flags;return i.a.createElement("div",{className:"flag-counter"},i.a.createElement(v.EntypoFlag,{className:"flag-counter-icon"})," ",i.a.createElement("span",{className:"flag-counter-number"},a))}),g=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onDifficultChange,t=e.difficult,n=e.flags;return i.a.createElement("div",{className:"settings-bar"},i.a.createElement(p,{onDifficultChange:a,difficult:t}),i.a.createElement(k,{flags:n}))}}]),a}(n.Component),y=(t(442),function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a=e.value,t=e.isMarked,n=e.clicked,l=e.onDig,o=e.onFlag,r=e.iIndex,c=e.jIndex;return t?i.a.createElement("div",{className:"block "+(n?"clicked":"non-clicked"),onClick:function(){return l(r,c)},onContextMenu:function(e){return o(r,c,e)}},i.a.createElement(v.EntypoFlag,{className:"flag-icon"})):i.a.createElement("div",{className:"block "+(n?"clicked":"non-clicked"),onClick:function(){return l(r,c)},onContextMenu:function(e){return o(r,c,e)}},i.a.createElement("span",{className:-1===a?"hide":""},0===a?"":a),i.a.createElement("div",{className:-1===a?"":"hide"},i.a.createElement(v.EntypoControllerRecord,{className:"bomb-icon"})))}}]),a}(n.Component)),b=(t(443),function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a=e.matrix,t=e.onDig,n=e.onFlag,l=e.shake;return i.a.createElement("div",{className:"board "+(l?"shake":"")},a.map((function(e,a){return i.a.createElement("div",{key:a,className:"row"},e.map((function(e,l){return i.a.createElement(y,{key:l,value:e.value,isMarked:e.isMarked,clicked:e.clicked,onDig:t,onFlag:n,iIndex:a,jIndex:l})})))})))}}]),a}(n.Component)),E=function(e){for(var a=function(e,a,t,n){for(var i=e-1;i<=e+1;i++)if(i>=0&&i<n.y)for(var l=a-1;l<=a+1;l++)l>=0&&l<n.x&&(l!==a||e!==i)&&-1!==t[i][l].value&&(t[i][l].value=t[i][l].value+1)},t=new Array(e.y),n=0;n<t.length;n++){for(var i=new Array(e.x),l=0;l<i.length;l++)i[l]={isMarked:!1,clicked:!1,value:0};t[n]=i}for(var o=0;o<e.mines;){var r=Math.floor(Math.random()*e.x),c=Math.floor(Math.random()*e.y);0===t[c][r].value&&(t[c][r].value=-1,o++)}for(var s=0;s<t.length;s++)for(var u=0;u<t[s].length;u++)-1===t[s][u].value&&a(s,u,t,e);return t},x=function e(a,t,n,i){for(var l=a-1;l<=a+1;l++)if(l>=0&&l<i.y)for(var o=t-1;o<=t+1;o++)o>=0&&o<i.x&&(o!==t||a!==l)&&-1!==n[l][o].value&&!n[l][o].clicked&&(n[l][o].clicked=!0,n[l][o].isMarked=!1,0===n[l][o].value&&(n=e(l,o,n,i)));return n},O=function(e,a){for(var t=0,n=0,i=0;i<e.length;i++)for(var l=0;l<e[i].length;l++)e[i][l].isMarked&&(a--,-1===e[i][l].value&&t++),e[i][l].clicked||n++;return{flags:a,points:t,notClicked:n}},j=function(e){for(var a=[],t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)-1===e[t][n].value&&(e[t][n].isMarked&&e[t][n].clicked||a.push({i:t,j:n}));return a},C=(t(444),t(12)),w=t.n(C),N=t(13),M=t.n(N),D=t(14),I=t.n(D),B=t(15),S=t.n(B),_=t(16),A=t.n(_),W=t(17),F=t.n(W),G={click:{route:w.a,filename:"click.mp3"},revealArea:{route:I.a,filename:"show_zone.mp3"},mine:{route:M.a,filename:"mine.mp3"},flag:{route:S.a,filename:"flag.mp3"},loop:{route:A.a,filename:"modal_score.mp3"},mineShow:{route:F.a,filename:"mine_show.mp3"}},R=function(){var e=[];return e.push(G.click),e.push(G.revealArea),e.push(G.mine),e.push(G.flag),e.push(G.loop),e.push(G.mineShow),i.a.createElement("div",null,e.map((function(e,a){return i.a.createElement("audio",{id:e.filename,key:a,preload:"auto",controls:"none",style:{display:"none"}},i.a.createElement("source",{src:e.route,type:"audio/mp3"}))})))},z=(t(445),function(e){var a=e.show,t=e.closeButton,n=e.title,l=e.bodyData,o=a?"modal display-block":"modal display-none";return i.a.createElement("div",{className:o},i.a.createElement("section",{className:"modal-main"},i.a.createElement("div",{className:"modal-title"},n),i.a.createElement("div",{className:"modal-body"},l),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{onClick:t},i.a.createElement(v.EntypoCcw,null)," Restart"))))}),L=function(e){function a(){var e;Object(s.a)(this,a),(e=Object(m.a)(this,Object(f.a)(a).call(this))).state={},e.handleLevelChange=function(a){var t=parseInt(a.target.value);e.restartGame(t)},e.setBoard=function(a){e.setState((function(){return{matrix:a}}))},e.handleClick=function(a,t){var n=Object(c.a)(e.state.matrix),i=e.state.difficult,l=Object(r.a)({},n[a][t]);if(!l.isMarked&&!l.clicked){if(l.clicked=!0,n[a][t]=l,0!==l.value&&-1!==l.value)document.getElementById(G.click.filename).play();if(0===l.value)document.getElementById(G.revealArea.filename).play(),e.shakeBoard(),n=x(a,t,n,i);var o=O(n,i.mines);if(e.setState((function(){return{matrix:n,flags:o.flags,points:o.points}})),-1===l.value)e.shakeBoard(),document.getElementById(G.mine.filename).play(),e.endGame(o);e.checkIfWin(o.points,o.flags,i.mines,o.notClicked)}},e.shakeBoard=function(){e.setState((function(){return{shake:!0}})),setTimeout((function(){e.setState((function(){return{shake:!1}}))}),1e3)},e.handleRightClick=function(a,t,n){n.preventDefault();var i=Object(c.a)(e.state.matrix),l=e.state.difficult,o=Object(r.a)({},i[a][t]);if(!o.clicked){document.getElementById(G.flag.filename).play(),o.isMarked=!o.isMarked,i[a][t]=o;var s=O(i,l.mines);e.setState((function(){return{matrix:i,flags:s.flags,points:s.points}})),e.checkIfWin(s.points,s.flags,l.mines,s.notClicked)}},e.restartGame=function(a){var t=null;t=void 0===a?e.state.difficult:h.filter((function(e){return e.id===a}))[0];var n=E(t);e.setState((function(){return{matrix:n,difficult:t,flags:t.mines,points:0}}))},e.endGame=function(a){var t=e.state.matrix,n=j(t);console.log(n);var i="Score: "+a.points;e.handleOpenModal("You Loose!",i)},e.handleCloseModal=function(){var a=Object(r.a)({},e.state).modalData;a.show=!1,e.setState({modalData:a}),document.getElementById(G.loop.filename).pause(),e.restartGame()},e.handleOpenModal=function(a,t){var n=Object(r.a)({},e.state).modalData;n.show=!0,n.title=a,n.bodyData=t;var i=document.getElementById(G.loop.filename);i.loop=!0,i.play(),e.setState({modalData:n})};var t=h.filter((function(e){return 2===e.id})),n=E(t[0]);return e.state={difficult:t[0],matrix:n,flags:t[0].mines,points:0,shake:!1,modalData:{show:!1,title:"title",bodyData:"body"}},e}return Object(d.a)(a,e),Object(u.a)(a,[{key:"checkIfWin",value:function(e,a,t,n){var i="Score: "+e;e===t&&a>=0&&this.handleOpenModal("You Win!",i),n===e&&a>=0&&this.handleOpenModal("You Win!",i)}},{key:"render",value:function(){var e=this.state,a=e.difficult,t=e.matrix,n=e.flags,l=e.shake,o=e.modalData,r="game-zone";return r+=" "+a.className,i.a.createElement("div",{className:r},i.a.createElement(R,null),i.a.createElement(g,{difficult:a,onDifficultChange:this.handleLevelChange,flags:n}),i.a.createElement(b,{matrix:t,difficultClass:a.className,onDig:this.handleClick,onFlag:this.handleRightClick,shake:l}),i.a.createElement(z,{show:o.show,closeButton:this.handleCloseModal,title:o.title,bodyData:o.bodyData}))}}]),a}(n.Component);var Y=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.fba149da.chunk.js.map